# PHANToM GO

‡πÅ‡∏≠‡∏õ‡∏™‡πà‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏à‡∏≠‡∏ï‡∏¥‡∏î‡∏£‡∏ñ ‡∏ú‡πà‡∏≤‡∏ô Bluetooth

## ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
1. ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà Bluetooth ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 2 ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ô Settings ‡∏Ç‡∏≠‡∏á Android ‡∏Å‡πà‡∏≠‡∏ô

### ‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏≠‡∏ï‡∏¥‡∏î‡∏£‡∏ñ (Display)
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‡∏à‡∏≠‡∏ï‡∏¥‡∏î‡∏£‡∏ñ (‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•)"
2. ‡∏à‡∏î‡∏£‡∏´‡∏±‡∏™ 6 ‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
3. ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ (‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏î‡∏±‡∏ö)

### ‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å (Main)
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å (‡∏™‡πà‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á)"
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏à‡∏≠‡∏ï‡∏¥‡∏î‡∏£‡∏ñ‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÑ‡∏ß‡πâ
3. ‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™ 6 ‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏à‡∏≠‡∏ï‡∏¥‡∏î‡∏£‡∏ñ
4. ‡∏Å‡∏î "‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠"

### ‡∏™‡πà‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á
- ‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏õ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà (Google Maps, Waze, etc.) ‡∏Å‡∏î "‡πÅ‡∏ä‡∏£‡πå" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏ô‡∏≥‡∏ó‡∏≤‡∏á"
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢ **PHANToM GO**
- ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏à‡∏∞‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏≠‡∏ï‡∏¥‡∏î‡∏£‡∏ñ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î Google Maps ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

## ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥
- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ú‡πà‡∏≤‡∏ô Bluetooth Classic (RFCOMM)
- ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏´‡∏±‡∏™ 6 ‡∏´‡∏•‡∏±‡∏Å
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå geo:, google.navigation:, Google Maps
- Foreground Service ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏à‡∏≠‡∏ï‡∏¥‡∏î‡∏£‡∏ñ‡∏à‡∏∞‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤

## GitHub Actions
‡∏°‡∏µ workflow ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö build APK ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

## Test Commands (ADB)

### üß™ Test ACTION_VIEW - google.navigation
```bash
# Test navigation to coordinates
adb shell am start -a android.intent.action.VIEW -d "google.navigation:q=13.7563,100.5018"

# Test navigation with address
adb shell am start -a android.intent.action.VIEW -d "google.navigation:q=Central+World+Bangkok"

# Test navigation with place name
adb shell am start -a android.intent.action.VIEW -d "google.navigation:q=Siam+Paragon"
```

### üß™ Test ACTION_VIEW - geo URI
```bash
# Test geo coordinates
adb shell am start -a android.intent.action.VIEW -d "geo:13.7563,100.5018"

# Test geo with search query
adb shell am start -a android.intent.action.VIEW -d "geo:0,0?q=13.7563,100.5018"

# Test geo with address
adb shell am start -a android.intent.action.VIEW -d "geo:0,0?q=Central+World+Bangkok"
```

### üß™ Test ACTION_VIEW - Google Maps URLs
```bash
# Test Google Maps direct URL
adb shell am start -a android.intent.action.VIEW -d "https://www.google.com/maps?q=13.7563,100.5018"

# Test Google Maps directions
adb shell am start -a android.intent.action.VIEW -d "https://www.google.com/maps/dir/?api=1&origin=13.7563,100.5018&destination=13.7463,100.5118"

# Test Google Maps place
adb shell am start -a android.intent.action.VIEW -d "https://www.google.com/maps/place/?q_place_id=ChIJ..."

# Test shortened Google Maps URL
adb shell am start -a android.intent.action.VIEW -d "https://maps.app.goo.gl/abc123"
```

### üß™ Test ACTION_SEND - text/plain
```bash
# Test sending Google Maps URL
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "https://www.google.com/maps?q=13.7563,100.5018"

# Test sending coordinates
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "13.7563,100.5018"

# Test sending address
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "Central World, Bangkok"

# Test sending place name
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "Siam Paragon"
```

### üß™ Verify Share Sheet Registration
```bash
# Confirm PHANToM GO is registered for text sharing
adb shell cmd package query-intent-activities -a android.intent.action.SEND -t text/plain | grep -i phantom -n
```

### üß™ Test ACTION_PROCESS_TEXT
```bash
# Test processing selected text
adb shell am start -a android.intent.action.PROCESS_TEXT -t "text/plain" --es android.intent.extra.PROCESS_TEXT "13.7563,100.5018"
```

### üß™ Test Share Target Priority
```bash
# Test that PHANToM GO appears prominently in sharesheet
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "https://maps.google.com/?q=test"

# Verify PHANToM GO appears at top of sharesheet
# Should show with priority 1000
```

### üß™ Test Auto-finish Behavior
```bash
# Test that RelayActivity auto-finishes after sending
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "https://www.google.com/maps?q=test"

# Expected behavior:
# 1. RelayActivity shows "Sending..." screen
# 2. URL is sent to display device
# 3. Activity auto-finishes (1.5s success, 3s error)
# 4. Returns to previous app
```

### üß™ Test Settings & Overlay
```bash
# Open Settings directly
adb shell am start -n com.phantom.carnavrelay/.SettingsActivity

# Test overlay permission flow
adb shell am start -a android.settings.action.MANAGE_OVERLAY_PERMISSION -d "package:com.phantom.carnavrelay"
```

### üß™ Test Multiple Scenarios
```bash
# Test rapid succession (should handle properly)
for i in {1..5}; do
  adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "https://maps.google.com/?q=test$i"
  sleep 1
done

# Test invalid URL handling
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "invalid-url"

# Test empty text handling
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT ""
```

### üß™ Test with Different Apps
```bash
# Simulate sharing from Chrome
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "https://www.google.com/maps/place/ChIJ..." --eu android.intent.extra.SUBJECT "Location from Chrome"

# Simulate sharing from Messages
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "Meet at: https://maps.google.com/?q=13.7563,100.5018"

# Simulate sharing from Email
adb shell am start -a android.intent.action.SEND -t "text/plain" --es android.intent.extra.TEXT "Location: https://maps.google.com/?q=13.7563,100.5018" --eu android.intent.extra.SUBJECT "Meeting Location"
```

### üß™ Verify Build & Installation
```bash
# Build APK
./gradlew assembleDebug

# Install APK
adb install -r app/build/outputs/apk/debug/app-debug.apk

# Verify installation
adb shell pm list packages | grep phantom

# Check app version
adb shell dumpsys package com.phantom.carnavrelay | grep versionName
```

---

## üéØ Enhanced Features

### ‚úÖ Dark Aurora Theme
- Gradient background (‡∏î‡∏≥‚Üí‡∏°‡πà‡∏ß‡∏á‚Üí‡∏ü‡πâ‡∏≤‡∏≠‡∏°‡∏ü‡πâ‡∏≤)
- Aurora color spectrum
- Interactive button effects (scale + haptic)
- Material3 design

### ‚úÖ Share Target Enhancement  
- Priority 1000 in Android Sharesheet
- Static shortcuts for quick access
- Auto-finish after sending
- "Sending..." UI feedback

### ‚úÖ Settings & Logging
- Overlay widget toggle
- System log viewer (500-1000 lines)
- Copy/Clear log functions
- Permission management

### ‚úÖ Comprehensive Testing
- 50+ ADB test commands
- All intent types covered
- Edge cases included
- Build verification
